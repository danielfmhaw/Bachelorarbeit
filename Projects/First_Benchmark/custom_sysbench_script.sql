DROP TABLE BESTELLUNGMITVARCHAR;
DROP TABLE KUNDENMITVARCHAR;
DROP TABLE BESTELLUNGMITID;
DROP TABLE KUNDENMITID;
DROP TABLE BESTELLUNGMITVARCHARLENGTH;
DROP TABLE KUNDENMITVARCHARLENGTH;

DELETE FROM BESTELLUNGMITID;
DELETE FROM KUNDENMITID;
DELETE FROM BESTELLUNGMITID;
DELETE FROM KUNDENMITID;
DELETE FROM BESTELLUNGMITVARCHARLENGTH;
DELETE FROM KUNDENMITVARCHARLENGTH;

-- EXAMPLE 1 WITH VARCHAR AS ID
CREATE TABLE KUNDENMITVARCHAR
(
    NAME          VARCHAR(255) PRIMARY KEY,
    GEBURTSTAG    DATE,
    ADRESSE       VARCHAR(255),
    STADT         VARCHAR(100),
    POSTLEITZAHL  VARCHAR(10),
    LAND          VARCHAR(100),
    EMAIL         VARCHAR(255) UNIQUE,
    TELEFONNUMMER VARCHAR(20)
);

CREATE TABLE BESTELLUNGMITVARCHAR
(
    BESTELLDATUM DATE,
    ARTIKEL_ID   INT,
    FK_KUNDEN    VARCHAR(255) NOT NULL,
    UMSATZ INT,
    PRIMARY KEY (BESTELLDATUM, ARTIKEL_ID, FK_KUNDEN),
    FOREIGN KEY (FK_KUNDEN) REFERENCES KUNDENMITVARCHAR (NAME)
);

-- EXAMPLE 2 WITH INT AS ID
CREATE TABLE KUNDENMITID
(
    KUNDEN_ID     INT PRIMARY KEY AUTO_INCREMENT,
    NAME          VARCHAR(255),
    GEBURTSTAG    DATE,
    ADRESSE       VARCHAR(255),
    STADT         VARCHAR(100),
    POSTLEITZAHL  VARCHAR(10),
    LAND          VARCHAR(100),
    EMAIL         VARCHAR(255) UNIQUE,
    TELEFONNUMMER VARCHAR(20)
);

CREATE TABLE BESTELLUNGMITID
(
    BESTELLDATUM DATE,
    ARTIKEL_ID   INT,
    FK_KUNDEN    INT NOT NULL,
    UMSATZ INT,
    PRIMARY KEY (BESTELLDATUM, ARTIKEL_ID, FK_KUNDEN),
    FOREIGN KEY (FK_KUNDEN) REFERENCES KUNDENMITID (KUNDEN_ID)
);

-- Id
SELECT count(*)
FROM KUNDENMITID;
SELECT count(*)
FROM BESTELLUNGMITID;
SELECT count(*)
FROM KUNDENMITID k
         JOIN BESTELLUNGMITID b ON k.KUNDEN_ID = b.FK_KUNDEN;

-- Varchar
SELECT count(*)
FROM KUNDENMITVARCHAR;
SELECT count(*)
FROM BESTELLUNGMITVARCHAR;
SELECT count(*)
FROM KUNDENMITVARCHAR k
        JOIN BESTELLUNGMITVARCHAR B on k.NAME = B.FK_KUNDEN;

-- Varchar with length
SELECT count(*)
FROM KUNDENMITVARCHARLENGTH k;
SELECT count(*)
FROM  BESTELLUNGMITVARCHARLENGTH b;
SELECT count(*)
FROM KUNDENMITVARCHARLENGTH k
         JOIN BESTELLUNGMITVARCHARLENGTH b ON k.NAME = b.FK_KUNDEN;